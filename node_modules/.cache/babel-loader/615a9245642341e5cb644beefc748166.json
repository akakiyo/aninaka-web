{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kiyo/private/aninaka/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"/Users/kiyo/private/aninaka/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kiyo/private/aninaka/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import _regeneratorRuntime from\"/Users/kiyo/private/aninaka/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import{Navigate,Link}from\"react-router-dom\";import styled from\"styled-components\";import useFirebaseAuth from\"./useFirebaseAuth\";import axios from\"axios\";import{TransitionOtherButton,DoneButton}from\"./Buttons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];var _useFirebaseAuth=useFirebaseAuth(),signup=_useFirebaseAuth.signup,isAuthenticated=_useFirebaseAuth.isAuthenticated;var signupProcess=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userName,email,password){var user_id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signup(email,password);case 3:user_id=_context.sent;_context.next=6;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_API||\"http://localhost:8080/\",\"personal/\"),{user_id:user_id,name:userName,mail_address:email});case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert(\"アカウント作成に失敗しました\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function signupProcess(_x,_x2,_x3){return _ref.apply(this,arguments);};}();if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u4F5C\\u6210\"}),/*#__PURE__*/_jsxs(UserName,{children:[\"\\u30E6\\u30FC\\u30B6\\u30FC\\u30CD\\u30FC\\u30E0\\uFF1A\",/*#__PURE__*/_jsx(\"input\",{value:userName,type:\"userName\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Email,{children:[\"Email\\uFF1A\",/*#__PURE__*/_jsx(\"input\",{value:email,type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Password,{children:[\"Password\\uFF1A\",/*#__PURE__*/_jsx(\"input\",{value:password,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(DoneButton,{onClick:function onClick(){return signupProcess(userName,email,password);},children:\"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u4F5C\\u6210\"}),/*#__PURE__*/_jsx(HorizontalLine,{}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u3059\\u3067\\u306B\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u304C\\u3042\\u308B\\u65B9\\u306F\\u3053\\u3061\\u3089\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(TransitionOtherButton,{children:\"\\u30ED\\u30B0\\u30A4\\u30F3\\u306F\\u3053\\u3061\\u3089\"})})]});};var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding-bottom: 20px;\\n\"])));var Title=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 30px;\\n  font-weight: bold;\\n\"])));var UserName=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin: 40px 0 0 -40px;\\n  font-size: 24px;\\n  input {\\n    height: 43px;\\n    width: 200px;\\n    font-size: 24px;\\n  }\\n\"])));var Email=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin: 20px 0 0 60px;\\n  font-size: 24px;\\n  input {\\n    height: 43px;\\n    width: 200px;\\n    font-size: 24px;\\n  }\\n\"])));var Password=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 24px;\\n  margin: 20px;\\n  input {\\n    font-size: 24px;\\n    height: 43px;\\n    width: 200px;\\n  }\\n\"])));var HorizontalLine=styled.hr(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));export default SignUp;","map":{"version":3,"sources":["/Users/kiyo/private/aninaka/frontend/src/auth/SignUp.js"],"names":["useState","Navigate","Link","styled","useFirebaseAuth","axios","TransitionOtherButton","DoneButton","SignUp","email","setEmail","password","setPassword","userName","setUserName","signup","isAuthenticated","signupProcess","user_id","post","process","env","REACT_APP_BACKEND_API","name","mail_address","alert","e","target","value","Wrapper","div","Title","UserName","Email","Password","HorizontalLine","hr"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Navigate, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport useFirebaseAuth from \"./useFirebaseAuth\";\nimport axios from \"axios\";\nimport { TransitionOtherButton, DoneButton } from \"./Buttons\";\n\nconst SignUp = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const { signup, isAuthenticated } = useFirebaseAuth();\n\n  const signupProcess = async (userName, email, password) => {\n    try {\n      const user_id = await signup(email, password);\n\n      await axios.post(\n        `${\n          process.env.REACT_APP_BACKEND_API || \"http://localhost:8080/\"\n        }personal/`,\n        {\n          user_id,\n          name: userName,\n          mail_address: email,\n        }\n      );\n    } catch {\n      alert(\"アカウント作成に失敗しました\");\n    }\n  };\n\n  if (isAuthenticated) {\n    return <Navigate to=\"/\" />;\n  }\n  return (\n    <Wrapper>\n      <Title>アカウント作成</Title>\n      <UserName>\n        ユーザーネーム：\n        <input\n          value={userName}\n          type=\"userName\"\n          onChange={(e) => setUserName(e.target.value)}\n        />\n      </UserName>\n      <Email>\n        Email：\n        <input\n          value={email}\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </Email>\n      <Password>\n        Password：\n        <input\n          value={password}\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </Password>\n      <DoneButton onClick={() => signupProcess(userName, email, password)}>\n        アカウント作成\n      </DoneButton>\n      <HorizontalLine />\n      <p>すでにアカウントがある方はこちら</p>\n      <Link to=\"/login\">\n        <TransitionOtherButton>ログインはこちら</TransitionOtherButton>\n      </Link>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 20px;\n`;\nconst Title = styled.div`\n  font-size: 30px;\n  font-weight: bold;\n`;\nconst UserName = styled.div`\n  margin: 40px 0 0 -40px;\n  font-size: 24px;\n  input {\n    height: 43px;\n    width: 200px;\n    font-size: 24px;\n  }\n`;\nconst Email = styled.div`\n  margin: 20px 0 0 60px;\n  font-size: 24px;\n  input {\n    height: 43px;\n    width: 200px;\n    font-size: 24px;\n  }\n`;\nconst Password = styled.div`\n  font-size: 24px;\n  margin: 20px;\n  input {\n    font-size: 24px;\n    height: 43px;\n    width: 200px;\n  }\n`;\nconst HorizontalLine = styled.hr`\n  width: 100%;\n`;\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}