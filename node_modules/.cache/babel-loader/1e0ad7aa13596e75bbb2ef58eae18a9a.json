{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kiyo/private/aninaka/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/kiyo/private/aninaka/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11;import{useState}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{useAlert}from\"react-alert\";import SearchIcon from\"@mui/icons-material/Search\";import Icon from\"../../icon/user.svg\";import useFirebaseAuth from\"../../auth/useFirebaseAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddFriend=function AddFriend(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),searchWord=_useState2[0],setSearchWord=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),findedUsers=_useState4[0],setFindedUsers=_useState4[1];var customAlert=useAlert();var _useFirebaseAuth=useFirebaseAuth(),userId=_useFirebaseAuth.userId;var searchFriend=function searchFriend(){axios({method:\"GET\",url:\"\".concat(process.env.REACT_APP_BACKEND_API||\"http://localhost:8080/\",\"friend\"),params:{searchWord:searchWord}}).then(function(res){setFindedUsers(res.data.findedUsers);});};var addFriend=function addFriend(addFriendId){axios({method:\"POST\",url:\"\".concat(process.env.REACT_APP_BACKEND_API||\"http://localhost:8080/\",\"friend\"),data:{addFriendId:addFriendId,userId:userId}}).then(function(){customAlert.success(\"\");});};console.log(findedUsers);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u30D5\\u30EC\\u30F3\\u30C9\\u691C\\u7D22\\uFF1A\"}),/*#__PURE__*/_jsx(InputSearchWord,{type:\"text\",placeholder:\"id\\u307E\\u305F\\u306F\\u30E6\\u30FC\\u30B6\\u540D\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\",onChange:function onChange(event){return setSearchWord(event.target.value);}}),/*#__PURE__*/_jsx(SearchButton,{onClick:function onClick(){return searchFriend();},children:/*#__PURE__*/_jsx(SearchIcon,{})})]}),/*#__PURE__*/_jsx(Content,{children:findedUsers&&findedUsers.map(function(findedUser){return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemLeft,{children:/*#__PURE__*/_jsx(UserIcon,{src:Icon})}),/*#__PURE__*/_jsxs(ListItemCenter,{children:[\" \",findedUser.name]}),/*#__PURE__*/_jsx(ListItemRight,{children:/*#__PURE__*/_jsx(AddFrinedButton,{onClick:function onClick(){return addFriend(findedUser.user_id);},children:\"+\"})})]});})})]});};var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 500px;\\n\"])));var InputArea=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-left: 100px;\\n  margin-bottom: 50px;\\n\"])));var InputSearchWord=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  height: 30px;\\n  width: 300px;\\n  margin: auto 0 auto 0;\\n  padding: 3px 10px;\\n  border: 2px solid black;\\n  border-radius: 20px;\\n  color: black;\\n\"])));var SearchButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 3.5em;\\n  height: 3em;\\n  margin: auto 0 auto -20px;\\n  border: none;\\n  color: #fff;\\n  background: #000000;\\n  outline: none;\\n  cursor: pointer;\\n\"])));var Content=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin-left: 100px;\\n\"])));var ListItem=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  height: 80px;\\n  width: 500px;\\n  margin: 10px;\\n  border: solid #efeaea;\\n  border-radius: 1em;\\n\"])));var ListItemLeft=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\"])));var UserIcon=styled.img(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  height: 90px;\\n  width: 90px;\\n  border-radius: 50%;\\n\"])));var ListItemCenter=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\"])));var ListItemRight=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  margin-right: 10px;\\n  margin-left: auto;\\n\"])));var AddFrinedButton=styled.button(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  height: 30px;\\n  width: 30px;\\n  border-radius: 6px;\\n  background-color: white;\\n  font-size: 25px;\\n  :hover {\\n    background-color: #e6dfdf;\\n  }\\n\"])));export default AddFriend;","map":{"version":3,"sources":["/Users/kiyo/private/aninaka/frontend/src/routes/AddFriend/AddFriend.jsx"],"names":["useState","styled","axios","useAlert","SearchIcon","Icon","useFirebaseAuth","AddFriend","searchWord","setSearchWord","findedUsers","setFindedUsers","customAlert","userId","searchFriend","method","url","process","env","REACT_APP_BACKEND_API","params","then","res","data","addFriend","addFriendId","success","console","log","event","target","value","map","findedUser","name","user_id","Wrapper","div","InputArea","InputSearchWord","input","SearchButton","button","Content","ListItem","ListItemLeft","UserIcon","img","ListItemCenter","ListItemRight","AddFrinedButton"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { useAlert } from \"react-alert\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport Icon from \"../../icon/user.svg\";\nimport useFirebaseAuth from \"../../auth/useFirebaseAuth\";\n\nconst AddFriend = () => {\n  const [searchWord, setSearchWord] = useState();\n  const [findedUsers, setFindedUsers] = useState([]);\n  const customAlert = useAlert();\n  const { userId } = useFirebaseAuth();\n\n  const searchFriend = () => {\n    axios({\n      method: \"GET\",\n      url: `${\n        process.env.REACT_APP_BACKEND_API || \"http://localhost:8080/\"\n      }friend`,\n      params: { searchWord },\n    }).then((res) => {\n      setFindedUsers(res.data.findedUsers);\n    });\n  };\n\n  const addFriend = (addFriendId) => {\n    axios({\n      method: \"POST\",\n      url: `${\n        process.env.REACT_APP_BACKEND_API || \"http://localhost:8080/\"\n      }friend`,\n      data: { addFriendId, userId },\n    }).then(() => {\n      customAlert.success(\"\");\n    });\n  };\n\n  console.log(findedUsers);\n  return (\n    <Wrapper>\n      <InputArea>\n        <p>フレンド検索：</p>\n        <InputSearchWord\n          type=\"text\"\n          placeholder=\"idまたはユーザ名を入力してください\"\n          onChange={(event) => setSearchWord(event.target.value)}\n        />\n        <SearchButton onClick={() => searchFriend()}>\n          <SearchIcon />\n        </SearchButton>\n      </InputArea>\n      <Content>\n        {/* <div>ヒット件数：{findedUsers.length}</div> */}\n        {findedUsers &&\n          findedUsers.map((findedUser) => (\n            <ListItem>\n              <ListItemLeft>\n                <UserIcon src={Icon} />\n              </ListItemLeft>\n              <ListItemCenter> {findedUser.name}</ListItemCenter>\n              <ListItemRight>\n                <AddFrinedButton onClick={() => addFriend(findedUser.user_id)}>\n                  +\n                </AddFrinedButton>\n              </ListItemRight>\n            </ListItem>\n          ))}\n      </Content>\n    </Wrapper>\n  );\n};\nconst Wrapper = styled.div`\n  height: 500px;\n`;\nconst InputArea = styled.div`\n  display: flex;\n  margin-left: 100px;\n  margin-bottom: 50px;\n`;\nconst InputSearchWord = styled.input`\n  height: 30px;\n  width: 300px;\n  margin: auto 0 auto 0;\n  padding: 3px 10px;\n  border: 2px solid black;\n  border-radius: 20px;\n  color: black;\n`;\n\nconst SearchButton = styled.button`\n  width: 3.5em;\n  height: 3em;\n  margin: auto 0 auto -20px;\n  border: none;\n  color: #fff;\n  background: #000000;\n  outline: none;\n  cursor: pointer;\n`;\nconst Content = styled.div`\n  margin-left: 100px;\n`;\nconst ListItem = styled.div`\n  display: flex;\n  align-items: center;\n  height: 80px;\n  width: 500px;\n  margin: 10px;\n  border: solid #efeaea;\n  border-radius: 1em;\n`;\nconst ListItemLeft = styled.div``;\nconst UserIcon = styled.img`\n  height: 90px;\n  width: 90px;\n  border-radius: 50%;\n`;\nconst ListItemCenter = styled.div``;\nconst ListItemRight = styled.div`\n  margin-right: 10px;\n  margin-left: auto;\n`;\nconst AddFrinedButton = styled.button`\n  height: 30px;\n  width: 30px;\n  border-radius: 6px;\n  background-color: white;\n  font-size: 25px;\n  :hover {\n    background-color: #e6dfdf;\n  }\n`;\nexport default AddFriend;\n"]},"metadata":{},"sourceType":"module"}