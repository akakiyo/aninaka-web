{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar canUseDOM = function () {\n  return typeof window !== 'undefined' && !!window.document && !!window.document.createElement;\n};\n\nvar DisableScroll =\n/** @class */\nfunction () {\n  function DisableScroll() {\n    var _this = this;\n\n    this.handleWheel = function (e) {\n      e.preventDefault();\n    };\n\n    this.handleScroll = function () {\n      window.scrollTo.apply(window, _this.lockToScrollPos);\n    };\n\n    this.handleKeydown = function (e) {\n      var keys = _this.options.keyboardKeys;\n      /* istanbul ignore else */\n\n      if (['INPUT', 'TEXTAREA'].includes(e.target.tagName)) {\n        keys = keys.filter(function (key) {\n          return !_this.options.authorizedInInputs.includes(key);\n        });\n      }\n      /* istanbul ignore else */\n\n\n      if (keys.includes(e.keyCode)) {\n        e.preventDefault();\n      }\n    };\n\n    this.element = null;\n    this.lockToScrollPos = [0, 0];\n    this.options = {\n      authorizedInInputs: [32, 37, 38, 39, 40],\n      disableKeys: true,\n      disableScroll: true,\n      disableWheel: true,\n      keyboardKeys: [32, 33, 34, 35, 36, 37, 38, 39, 40]\n    };\n    /* istanbul ignore else */\n\n    if (canUseDOM()) {\n      this.element = document.scrollingElement;\n    }\n  }\n  /**\n   * Disable Page Scroll\n   */\n\n\n  DisableScroll.prototype.on = function (element, options) {\n    var _a, _b, _c, _d;\n\n    if (!canUseDOM()) return;\n    this.element = element || this.element;\n    this.options = __assign(__assign({}, this.options), options);\n    var _e = this.options,\n        disableKeys = _e.disableKeys,\n        disableScroll = _e.disableScroll,\n        disableWheel = _e.disableWheel;\n    /* istanbul ignore else */\n\n    if (disableWheel) {\n      document.addEventListener('wheel', this.handleWheel, {\n        passive: false\n      });\n      document.addEventListener('touchmove', this.handleWheel, {\n        passive: false\n      });\n    }\n    /* istanbul ignore else */\n\n\n    if (disableScroll) {\n      this.lockToScrollPos = [(_b = (_a = this.element) === null || _a === void 0 ? void 0 : _a.scrollLeft) !== null && _b !== void 0 ? _b : 0, (_d = (_c = this.element) === null || _c === void 0 ? void 0 : _c.scrollTop) !== null && _d !== void 0 ? _d : 0];\n      document.addEventListener('scroll', this.handleScroll, {\n        passive: false\n      });\n    }\n    /* istanbul ignore else */\n\n\n    if (disableKeys) {\n      document.addEventListener('keydown', this.handleKeydown, {\n        passive: false\n      });\n    }\n  };\n  /**\n   * Re-enable page scrolls\n   */\n\n\n  DisableScroll.prototype.off = function () {\n    if (!canUseDOM()) return;\n    document.removeEventListener('wheel', this.handleWheel);\n    document.removeEventListener('touchmove', this.handleWheel);\n    document.removeEventListener('scroll', this.handleScroll);\n    document.removeEventListener('keydown', this.handleKeydown);\n  };\n\n  return DisableScroll;\n}();\n\nexport default new DisableScroll();","map":{"version":3,"mappings":"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","names":["canUseDOM","window","document","createElement","e","preventDefault","scrollTo","apply","_this","lockToScrollPos","keys","options","keyboardKeys","includes","target","tagName","filter","key","authorizedInInputs","keyCode","element","disableKeys","disableScroll","disableWheel","scrollingElement","DisableScroll","__assign","addEventListener","handleWheel","passive","_a","scrollLeft","_b","_c","scrollTop","_d","handleScroll","handleKeydown","removeEventListener"],"sources":["/Users/kiyo/private/aninaka2/frontend/node_modules/disable-scroll/src/index.ts"],"sourcesContent":["const canUseDOM = () =>\n  typeof window !== 'undefined' && !!window.document && !!window.document.createElement;\n\ninterface Options {\n  authorizedInInputs: number[];\n  disableKeys: boolean;\n  disableScroll: boolean;\n  disableWheel: boolean;\n  keyboardKeys: number[];\n}\n\nclass DisableScroll {\n  element: Element | null;\n  lockToScrollPos: [number, number];\n  options: Options;\n\n  constructor() {\n    this.element = null;\n    this.lockToScrollPos = [0, 0];\n    this.options = {\n      authorizedInInputs: [32, 37, 38, 39, 40],\n      disableKeys: true,\n      disableScroll: true,\n      disableWheel: true,\n      keyboardKeys: [32, 33, 34, 35, 36, 37, 38, 39, 40],\n      // space: 32, page up: 33, page down: 34, end: 35, home: 36\n      // left: 37, up: 38, right: 39, down: 40\n    };\n\n    /* istanbul ignore else */\n    if (canUseDOM()) {\n      this.element = document.scrollingElement;\n    }\n  }\n\n  /**\n   * Disable Page Scroll\n   */\n  on(element?: Element, options?: Partial<Options>) {\n    if (!canUseDOM()) return;\n\n    this.element = element || this.element;\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n\n    const { disableKeys, disableScroll, disableWheel } = this.options;\n\n    /* istanbul ignore else */\n    if (disableWheel) {\n      document.addEventListener('wheel', this.handleWheel, { passive: false });\n      document.addEventListener('touchmove', this.handleWheel, { passive: false });\n    }\n\n    /* istanbul ignore else */\n    if (disableScroll) {\n      this.lockToScrollPos = [this.element?.scrollLeft ?? 0, this.element?.scrollTop ?? 0];\n      document.addEventListener('scroll', this.handleScroll, { passive: false });\n    }\n\n    /* istanbul ignore else */\n    if (disableKeys) {\n      document.addEventListener('keydown', this.handleKeydown, { passive: false });\n    }\n  }\n\n  /**\n   * Re-enable page scrolls\n   */\n  off() {\n    if (!canUseDOM()) return;\n\n    document.removeEventListener('wheel', this.handleWheel);\n    document.removeEventListener('touchmove', this.handleWheel);\n    document.removeEventListener('scroll', this.handleScroll);\n    document.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleWheel = (e: WheelEvent | TouchEvent) => {\n    e.preventDefault();\n  };\n\n  handleScroll = () => {\n    window.scrollTo(...this.lockToScrollPos);\n  };\n\n  handleKeydown = (e: KeyboardEvent) => {\n    let keys = this.options.keyboardKeys;\n\n    /* istanbul ignore else */\n    if (\n      ['INPUT', 'TEXTAREA'].includes((e.target as HTMLInputElement | HTMLTextAreaElement).tagName)\n    ) {\n      keys = keys.filter((key) => !this.options.authorizedInInputs.includes(key));\n    }\n\n    /* istanbul ignore else */\n    if (keys.includes(e.keyCode)) {\n      e.preventDefault();\n    }\n  };\n}\n\nexport default new DisableScroll();\n"]},"metadata":{},"sourceType":"module"}